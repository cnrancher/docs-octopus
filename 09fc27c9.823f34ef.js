(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{138:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return s}));var r=a(2),n=a(9),b=(a(0),a(186)),c=a(188),o={id:"monitoring",title:"Monitoring Octopus"},l={id:"en/monitoring",title:"Monitoring Octopus",description:"Octopus is built on [sigs.k8s.io/controller-runtime](https://github.com/kubernetes-sigs/controller-runtime), so some metrics are related to controller-runtime and [client-go](https://github.com/kubernetes/client-go). At the same time, [github.com/prometheus/client_golang](https://github.com/prometheus/client_golang) provides some metrics for [Go runtime](https://golang.org/pkg/runtime/) and process state.",source:"@site/docs/en/monitoring.md",permalink:"/docs-octopus/docs/en/monitoring",editUrl:"https://github.com/cnrancher/docs-octopus/edit/master/website/docs/en/monitoring.md",sidebar:"docs",previous:{title:"Develop Octopus",permalink:"/docs-octopus/docs/en/develop"},next:{title:"Edge UI",permalink:"/docs-octopus/docs/en/edge-ui"}},i=[{value:"Metrics Category",id:"metrics-category",children:[{value:"Exposing from Controller Runtime",id:"exposing-from-controller-runtime",children:[]},{value:"Exposing from Kubernetes client",id:"exposing-from-kubernetes-client",children:[]},{value:"Exposing from Prometheus client",id:"exposing-from-prometheus-client",children:[]},{value:"Exposing from Octopus",id:"exposing-from-octopus",children:[]}]},{value:"Monitor",id:"monitor",children:[{value:"Grafana Dashboard",id:"grafana-dashboard",children:[]},{value:"Integrate with Prometheus Operator",id:"integrate-with-prometheus-operator",children:[]}]}],m={rightToc:i};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(b.b)("wrapper",Object(r.a)({},m,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("p",null,"Octopus is built on ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/kubernetes-sigs/controller-runtime"}),"sigs.k8s.io/controller-runtime"),", so some metrics are related to controller-runtime and ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/kubernetes/client-go"}),"client-go"),". At the same time, ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/prometheus/client_golang"}),"github.com/prometheus/client_golang")," provides some metrics for ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://golang.org/pkg/runtime/"}),"Go runtime")," and process state."),Object(b.b)("h2",{id:"metrics-category"},"Metrics Category"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},'In the "Type" column, use the first letter to represent the corresponding word: G - Gauge, C - Counter, H - Histogram, S - Summary.')),Object(b.b)("h3",{id:"exposing-from-controller-runtime"},"Exposing from Controller Runtime"),Object(b.b)("h4",{id:"controller-metrics"},"Controller metrics"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/metrics/metrics.go#L25-L32"}),Object(b.b)("inlineCode",{parentName:"a"},"controller_runtime_reconcile_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of reconciliations per controller."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/metrics/metrics.go#L34-L39"}),Object(b.b)("inlineCode",{parentName:"a"},"controller_runtime_reconcile_errors_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of reconciliation errors per controller."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"H"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/internal/controller/metrics/metrics.go#L41-L46"}),Object(b.b)("inlineCode",{parentName:"a"},"controller_runtime_reconcile_time_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Length of time per reconciliation per controller."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h4",{id:"webhook-metrics"},"Webhook metrics"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"H"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/webhook/internal/metrics/metrics.go#L26-L34"}),Object(b.b)("inlineCode",{parentName:"a"},"controller_runtime_webhook_latency_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Histogram of the latency of processing admission requests."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h3",{id:"exposing-from-kubernetes-client"},"Exposing from Kubernetes client"),Object(b.b)("h4",{id:"rest-client-metrics"},"Rest client metrics"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L44-L49"}),Object(b.b)("inlineCode",{parentName:"a"},"rest_client_requests_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of HTTP requests, partitioned by status code, method, and host."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"H"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L35-L42"}),Object(b.b)("inlineCode",{parentName:"a"},"rest_client_request_latency_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Request latency in seconds. Broken down by verb and URL."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h4",{id:"reflector-metrics"},"Reflector metrics"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Deprecated by ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/kubernetes/kubernetes/pull/74636"}),"kubernetes/pull#74636")," to fix the memory leak in kubelet.")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L101-L105"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_last_resource_version"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Last resource version seen for the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L59-L63"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_lists_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of API lists done by the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"S"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L65-L69"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_list_duration_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How long an API list takes to return and decode for the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"S"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L71-L75"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_items_per_list"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How many items an API list returns to the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L83-L87"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_short_watches_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of short API watches done by the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L77-L81"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_watches_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of API watches done by the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"S"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L89-L93"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_watch_duration_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How long an API watch takes to return and decode for the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"S"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/client_go_adatper.go#L95-L99"}),Object(b.b)("inlineCode",{parentName:"a"},"reflector_items_per_watch"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How many items an API watch returns to the reflectors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h4",{id:"workqueue-metrics"},"Workqueue metrics"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/workqueue.go#L44-L49"}),Object(b.b)("inlineCode",{parentName:"a"},"workqueue_depth"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Current depth of workqueue."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/workqueue.go#L90-L98"}),Object(b.b)("inlineCode",{parentName:"a"},"workqueue_unfinished_work_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How many seconds of work has done that is in progress and hasn't been observed by work_duration. Large values indicate stuck threads. One can deduce the number of stuck threads by observing the rate at which this increases."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/workqueue.go#L104-L110"}),Object(b.b)("inlineCode",{parentName:"a"},"workqueue_longest_running_processor_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How many seconds has the longest running processor for workqueue been running."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/workqueue.go#L55-L60"}),Object(b.b)("inlineCode",{parentName:"a"},"workqueue_adds_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of adds handled by workqueue."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/workqueue.go#L116-L121"}),Object(b.b)("inlineCode",{parentName:"a"},"workqueue_retries_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of retries handled by workqueue."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"H"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/workqueue.go#L66-L72"}),Object(b.b)("inlineCode",{parentName:"a"},"workqueue_queue_duration_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How long in seconds an item stays in workqueue before being requested."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"H"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/sigs.k8s.io/controller-runtime/pkg/metrics/workqueue.go#L78-L84"}),Object(b.b)("inlineCode",{parentName:"a"},"workqueue_work_duration_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How long in seconds processing an item from workqueue takes."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h3",{id:"exposing-from-prometheus-client"},"Exposing from Prometheus client"),Object(b.b)("h4",{id:"go-runtime-metrics"},"Go runtime metrics"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L66-L69"}),Object(b.b)("inlineCode",{parentName:"a"},"go_goroutines"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of goroutines that currently exist."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L70-L73"}),Object(b.b)("inlineCode",{parentName:"a"},"go_threads"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of OS threads created."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L78-L81"}),Object(b.b)("inlineCode",{parentName:"a"},"go_info"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Information about the Go environment."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"S"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L74-L77"}),Object(b.b)("inlineCode",{parentName:"a"},"go_gc_duration_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"A summary of the pause duration of garbage collection cycles."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L88-L94"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_alloc_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes allocated and still in use."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L96-L102"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_alloc_bytes_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of bytes allocated, even if freed."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L104-L110"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes obtained from system."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L112-L118"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_lookups_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of pointer lookups."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L120-L126"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_mallocs_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of mallocs."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L128-L134"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_frees_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of frees."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L136-L142"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_heap_alloc_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of heap bytes allocated and still in use."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L144-L150"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_heap_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of heap bytes obtained from system."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L152-L158"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_heap_idle_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of heap bytes waiting to be used."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L160-L166"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_heap_inuse_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of heap bytes that are in use."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L168-L174"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_heap_released_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of heap bytes released to OS."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L176-L182"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_heap_objects"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of allocated objects."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L184-L190"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_stack_inuse_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes in use by the stack allocator."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L192-L198"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_stack_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes obtained from system for stack allocator."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L200-L206"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_mspan_inuse_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes in use by mspan structures."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L208-L214"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_mspan_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes used for mspan structures obtained from system."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L216-L222"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_mcache_inuse_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes in use by mcache structures."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L224-L230"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_mcache_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes used for mcache structures obtained from system."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L232-L238"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_buck_hash_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes used by the profiling bucket hash table."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L240-L246"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_gc_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes used for garbage collection system metadata."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L248-L254"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_other_sys_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of bytes used for other system allocations."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L256-L262"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_next_gc_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of heap bytes when next garbage collection will take place."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L264-L270"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_last_gc_time_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of seconds since 1970 of last garbage collection."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/go_collector.go#L272-L278"}),Object(b.b)("inlineCode",{parentName:"a"},"go_memstats_gc_cpu_fraction"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"The fraction of this program's available CPU time used by the GC since the program started."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h4",{id:"running-process-metrics"},"Running process metrics"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/process_collector.go#L71-L75"}),Object(b.b)("inlineCode",{parentName:"a"},"process_cpu_seconds_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total user and system CPU time spent in seconds."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/process_collector.go#L76-L80"}),Object(b.b)("inlineCode",{parentName:"a"},"process_open_fds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Number of open file descriptors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/process_collector.go#L81-L85"}),Object(b.b)("inlineCode",{parentName:"a"},"process_max_fds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Maximum number of open file descriptors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/process_collector.go#L86-L90"}),Object(b.b)("inlineCode",{parentName:"a"},"process_virtual_memory_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Virtual memory size in bytes."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/process_collector.go#L91-L95"}),Object(b.b)("inlineCode",{parentName:"a"},"process_virtual_memory_max_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Maximum amount of virtual memory available in bytes."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/process_collector.go#L96-L100"}),Object(b.b)("inlineCode",{parentName:"a"},"process_resident_memory_bytes"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Resident memory size in bytes."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../vendor/github.com/prometheus/client_golang/prometheus/process_collector.go#L101-L105"}),Object(b.b)("inlineCode",{parentName:"a"},"process_start_time_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Start time of the process since unix epoch in seconds."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h3",{id:"exposing-from-octopus"},"Exposing from Octopus"),Object(b.b)("h4",{id:"limb-metrics"},"Limb metrics"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"center"}),"Type"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Name"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Description"),Object(b.b)("th",Object(r.a)({parentName:"tr"},{align:"left"}),"Usage"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"G"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../pkg/metrics/limb/metrics.go#L12-L19"}),Object(b.b)("inlineCode",{parentName:"a"},"limb_connect_connections"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"How many connections are connecting adaptor."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../pkg/metrics/limb/metrics.go#L21-L28"}),Object(b.b)("inlineCode",{parentName:"a"},"limb_connect_errors_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of connecting adaptor errors."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"C"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../pkg/metrics/limb/metrics.go#L30-L37"}),Object(b.b)("inlineCode",{parentName:"a"},"limb_send_errors_total"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Total number of errors of sending device desired to adaptor."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"center"}),"H"),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),Object(b.b)("a",Object(r.a)({parentName:"td"},{href:"../../pkg/metrics/limb/metrics.go#L39-L46"}),Object(b.b)("inlineCode",{parentName:"a"},"limb_send_latency_seconds"))),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}),"Histogram of the latency of sending device desired to adaptor."),Object(b.b)("td",Object(r.a)({parentName:"tr"},{align:"left"}))))),Object(b.b)("h2",{id:"monitor"},"Monitor"),Object(b.b)("p",null,"By default, the metrics will be exposed on port ",Object(b.b)("inlineCode",{parentName:"p"},"8080"),"(see ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/cnrancher/octopus/tree/master/cmd/brain/options"}),"brain options")," and ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/cnrancher/octopus/tree/master/cmd/limb/options"}),"limb options"),"), they can be collected by ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://prometheus.io/"}),"Prometheus")," and visually analyzed through ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://grafana.com/"}),"Grafana"),". Octopus provides a ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/cnrancher/octopus/blob/master/deploy/e2e/integrate_with_prometheus_operator.yaml"}),"ServiceMonitor definition YAML")," to integrate with ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/coreos/prometheus-operator"}),"Prometheus Operator"),", which is an easy tool to configure and manage Prometheus instances."),Object(b.b)("h3",{id:"grafana-dashboard"},"Grafana Dashboard"),Object(b.b)("p",null,"For convenience, Octopus provides a ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/cnrancher/octopus/blob/master/deploy/e2e/integrate_with_grafana.json"}),"Grafana Dashboard")," to visualize the monitoring metrics."),Object(b.b)("img",{alt:"monitoring",src:Object(c.a)("img/monitoring.png")}),";",Object(b.b)("h3",{id:"integrate-with-prometheus-operator"},"Integrate with Prometheus Operator"),Object(b.b)("p",null,"Using ",Object(b.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/helm/charts/blob/master/stable/prometheus-operator"}),"prometheus-operator HELM chart"),", you can easily set up a Prometheus Operator to monitor the Octopus. The following steps demonstrate how to run a Prometheus Operator on a local Kubernetes cluster:"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"Use ",Object(b.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/cnrancher/octopus/blob/master/hack/cluster-k3d-spinup.sh"}),Object(b.b)("inlineCode",{parentName:"a"},"cluster-k3d-spinup.sh"))," to set up a local Kubernetes cluster via ",Object(b.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/rancher/k3d"}),"k3d"),"."),Object(b.b)("li",{parentName:"ol"},"Follow the ",Object(b.b)("a",Object(r.a)({parentName:"li"},{href:"https://helm.sh/docs/intro/install/"}),"installation guide of HELM")," to install helm tool, and then use ",Object(b.b)("inlineCode",{parentName:"li"},"helm fetch --untar --untardir /tmp stable/prometheus-operator")," the prometheus-operator chart to local ",Object(b.b)("inlineCode",{parentName:"li"},"/tmp")," directory."),Object(b.b)("li",{parentName:"ol"},"Generate a deployment YAML from prometheus-operator chart as below.",Object(b.b)("pre",{parentName:"li"},Object(b.b)("code",Object(r.a)({parentName:"pre"},{className:"language-shell"}),"helm template --namespace octopus-monitoring \\\n  --name octopus \\\n  --set defaultRules.create=false \\\n  --set global.rbac.pspEnabled=false \\\n  --set prometheusOperator.admissionWebhooks.patch.enabled=false \\\n  --set prometheusOperator.admissionWebhooks.enabled=false \\\n  --set prometheusOperator.kubeletService.enabled=false \\\n  --set prometheusOperator.tlsProxy.enabled=false \\\n  --set prometheusOperator.serviceMonitor.selfMonitor=false \\\n  --set alertmanager.enabled=false \\\n  --set grafana.defaultDashboardsEnabled=false \\\n  --set coreDns.enabled=false \\\n  --set kubeApiServer.enabled=false \\\n  --set kubeControllerManager.enabled=false \\\n  --set kubeEtcd.enabled=false \\\n  --set kubeProxy.enabled=false \\\n  --set kubeScheduler.enabled=false \\\n  --set kubeStateMetrics.enabled=false \\\n  --set kubelet.enabled=false \\\n  --set nodeExporter.enabled=false \\\n  --set prometheus.serviceMonitor.selfMonitor=false \\\n  --set prometheus.ingress.enabled=true \\\n  --set prometheus.ingress.hosts={localhost} \\\n  --set prometheus.ingress.paths={/prometheus} \\\n  --set prometheus.ingress.annotations.'traefik\\.ingress\\.kubernetes\\.io\\/rewrite-target'=/ \\\n  --set prometheus.prometheusSpec.externalUrl=http://localhost/prometheus \\\n  --set prometheus.prometheusSpec.serviceMonitorSelectorNilUsesHelmValues=false \\\n  --set prometheus.prometheusSpec.podMonitorSelectorNilUsesHelmValues=false \\\n  --set prometheus.prometheusSpec.ruleSelectorNilUsesHelmValues=false \\\n  --set grafana.adminPassword=admin \\\n  --set grafana.rbac.pspUseAppArmor=false \\\n  --set grafana.rbac.pspEnabled=false \\\n  --set grafana.serviceMonitor.selfMonitor=false \\\n  --set grafana.testFramework.enabled=false \\\n  --set grafana.ingress.enabled=true \\\n  --set grafana.ingress.hosts={localhost} \\\n  --set grafana.ingress.path=/grafana \\\n  --set grafana.ingress.annotations.'traefik\\.ingress\\.kubernetes\\.io\\/rewrite-target'=/ \\\n  --set grafana.'grafana\\.ini'.server.root_url=http://localhost/grafana \\\n  /tmp/prometheus-operator > /tmp/prometheus-operator_all_in_one.yaml\n"))),Object(b.b)("li",{parentName:"ol"},"Create ",Object(b.b)("inlineCode",{parentName:"li"},"octopus-monitoring")," Namespace via ",Object(b.b)("inlineCode",{parentName:"li"},"kubectl create ns octopus-monitoring"),"."),Object(b.b)("li",{parentName:"ol"},"Apply the prometheus-operator all-in-one deployment into the local cluster via ",Object(b.b)("inlineCode",{parentName:"li"},"kubectl apply -f /tmp/prometheus-operator_all_in_one.yaml"),"."),Object(b.b)("li",{parentName:"ol"},"Apply the Octopus all-in-one deployment via ",Object(b.b)("inlineCode",{parentName:"li"},"kubectl apply -f https://raw.githubusercontent.com/cnrancher/octopus/master/deploy/e2e/all_in_one.yaml"),"."),Object(b.b)("li",{parentName:"ol"},"Apply the monitoring integration into the local cluster via ",Object(b.b)("inlineCode",{parentName:"li"},"kubectl apply -f https://raw.githubusercontent.com/cnrancher/octopus/master/deploy/e2e/integrate_with_prometheus_operator.yaml")),Object(b.b)("li",{parentName:"ol"},"Visit ",Object(b.b)("inlineCode",{parentName:"li"},"http://localhost/prometheus")," to view the Prometheus web console through the browser, or visit ",Object(b.b)("inlineCode",{parentName:"li"},"http://localhost/grafana")," to view the Grafana console(the administrator account is ",Object(b.b)("inlineCode",{parentName:"li"},"admin/admin"),")."),Object(b.b)("li",{parentName:"ol"},"(Optional) Import the ",Object(b.b)("a",Object(r.a)({parentName:"li"},{href:"https://raw.githubusercontent.com/cnrancher/octopus/master/deploy/e2e/integrate_with_grafana.json"}),"Octopus Overview dashboard")," from Grafana console.")))}s.isMDXComponent=!0},186:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return j}));var r=a(0),n=a.n(r);function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},b=Object.keys(e);for(r=0;r<b.length;r++)a=b[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(r=0;r<b.length;r++)a=b[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=n.a.createContext({}),m=function(e){var t=n.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o({},t,{},e)),a},s=function(e){var t=m(e.components);return n.a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},O=Object(r.forwardRef)((function(e,t){var a=e.components,r=e.mdxType,b=e.originalType,c=e.parentName,i=l(e,["components","mdxType","originalType","parentName"]),s=m(a),O=r,j=s["".concat(c,".").concat(O)]||s[O]||p[O]||b;return a?n.a.createElement(j,o({ref:t},i,{components:a})):n.a.createElement(j,o({ref:t},i))}));function j(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var b=a.length,c=new Array(b);c[0]=O;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,c[1]=o;for(var i=2;i<b;i++)c[i]=a[i];return n.a.createElement.apply(null,c)}return n.a.createElement.apply(null,a)}O.displayName="MDXCreateElement"},187:function(e,t,a){"use strict";var r=a(0),n=a(52);t.a=function(){return Object(r.useContext)(n.a)}},188:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(189);var r=a(187);function n(e){var t=(Object(r.a)().siteConfig||{}).baseUrl,a=void 0===t?"/":t;if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?a+e.slice(1):a+e}},189:function(e,t,a){"use strict";var r=a(12),n=a(24),b=a(190),c="".startsWith;r(r.P+r.F*a(191)("startsWith"),"String",{startsWith:function(e){var t=b(this,e,"startsWith"),a=n(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return c?c.call(t,r,a):t.slice(a,a+r.length)===r}})},190:function(e,t,a){var r=a(76),n=a(25);e.exports=function(e,t,a){if(r(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(n(e))}},191:function(e,t,a){var r=a(3)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,!"/./"[e](t)}catch(n){}}return!0}}}]);